Metadata-Version: 2.4
Name: air-quality-imputer
Version: 0.1.0
Summary: Air quality imputation experiments with transformer-based models
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: numpy
Requires-Dist: pandas
Requires-Dist: scikit-learn
Requires-Dist: hydra-core>=1.3
Requires-Dist: omegaconf>=2.3
Requires-Dist: torch
Requires-Dist: joblib

# priprava_podatkov

## Struktura
- `combined/`: originalni CSV-ji po postajah
- `completed/`: dopolnjeni CSV-ji (urni indeks)
- `reports/`: porocila in grafi
- `notebooks/`: analiticni notebooki
- `src/air_quality_imputer/models/`: implementacije modelov
- `src/air_quality_imputer/training/`: skupen train/eval pipeline + registry

## Modularni model setup
Model se izbira prek Hydra config group `model`:
- `model=classic_transformer`
- `model=diffusion_transformer`

Model-specifični parametri:
- `src/air_quality_imputer/training/conf/model/classic_transformer.yaml`
- `src/air_quality_imputer/training/conf/model/diffusion_transformer.yaml`

Dodajanje novega modela:
1. Dodas model datoteko v `src/air_quality_imputer/models/`
2. Dodas vnos v `src/air_quality_imputer/training/model_registry.py`
3. Dodas `conf/model/<new_model>.yaml`

## Trening
Kanonični entrypoint:
- `src/air_quality_imputer/training/train_imputer.py`

Shrani:
- raw split: `train_data.csv`, `val_data.csv`, `test_data.csv`
- window set: `windows.npz` (`X_train`, `X_val_ori`, `X_val_masked`, `X_test_ori`)
- scaler: `scaler.pkl`
- model checkpoint: `artifacts/models/<model_type>/<station>/<checkpoint_name>`

Zagon:

```bash
PYTHONPATH=src python -m air_quality_imputer.training.train_imputer
```

Več modelov hkrati:

```bash
PYTHONPATH=src python -m air_quality_imputer.training.train_imputer \
  experiment.models=[classic_transformer,diffusion_transformer]
```

## Evaluacija
Kanonični entrypoint:
- `src/air_quality_imputer/training/evaluate_imputer.py`

Rezultati:
- `reports/model_eval/<model_type>/test_metrics_overall.csv`
- `reports/model_eval/<model_type>/test_metrics_by_feature.csv`

Zagon:

```bash
PYTHONPATH=src python -m air_quality_imputer.training.evaluate_imputer
```

Več modelov hkrati:

```bash
PYTHONPATH=src python -m air_quality_imputer.training.evaluate_imputer \
  experiment.models=[classic_transformer,diffusion_transformer]
```

## Backward compatibility
Stari entrypointi se še vedno podpirajo kot wrapperji:
- `air_quality_imputer.training.train_transformer_imputer`
- `air_quality_imputer.training.evaluate_transformer_imputer`

Opomba: CUDA je za trening/evaluacijo bistveno hitrejsa.
